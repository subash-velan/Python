Execution of Python Programs:

  Python is often described as an interpreted language, but internally it uses both a compiler and an interpreter. Understanding this dual mechanism is critical to understanding Python’s performance, portability, and behavior

Overview: How Python Executes Code:
----------------------------------
Python execution happens in two major phases:

  1. Compilation Phase - Source code is converted into byte code
  2. Interpretation Phase - Byte Code is executed by Python Virtual Machine (PVM)

  High‑Level Flow:

    Source Code (.py)
        ↓
    Python Compiler
        ↓
    Bytecode (.pyc)
        ↓
    Python Virtual Machine (Interpreter)
        ↓
    Output

1. Python Compiler (Compilation Phase)
  The python compiler is an internal components of Python runtime that;

    i. Reads .py source code
    ii. Checks the syntax
    iii. Converts the source code into byte code
  This compilation is automatic and invisible to user

  1.1. What is Bytecode?
    i. Byte code is a low-level, platform independant instruction set
    ii. It is not a machine level language
    iii. Designed specially for Python Virtual Machine (PVM)
    
    Example Bytecode:
      LOAD_CONST
      STORE_NAME
      BINARY_ADD
      CALL_FUNCTION
  
  1.2. .pyc files and __pycache__ folder
    i. Compiled bytecode is stored as .pyc file
    ii. Located inside __pycache__ folder
    iii. Bytecode is reusable if source file has not changed
  Benefits: Faster startup and subsequence executions

  Python delays most decisions to runtime, not compile time

2. Python Interpreter (Execution Phase):
  2.1. What is Python Virtual Machine (PVM)?
    Python Virtual Machine(PVM) is crucial components of Python runtime environment. It executes Python bytecode, which is generated from Python source code or intermediate      representations like Abstraction Syntax Trees (ASTs). It works as stack-based virtual machine (not registered-based like CPU)

    Python virtual machine, often referred to as the Python interpreter is responsible for executing Python code. It serves as the abstraction layer between the Python code      and the underlying hadware, providing a consistent environment for running Python prorgrams across different platforms. The PVM is implemented in CPython

  2.2. Architecture of the Python Virtual Machine:

    1. Bytecode Generation: 
        Before execution, Python source code is compiled into bytecode, this bytecode is low-level, platform independent, intermediate representation of python source code
    2. Interpreter Loop:
        Heart of the PVM is the interpreter loop, It fetches the bytecode instruction, decodes them, executes them sequentially.
    3. Python Object Model:
        The Python Virtual Machine maintains the Python object model to represents data types such as string,integers,lists and custom objects. It manages the creation,manipulation and destruction of these objects during execution.
    4. Memory Management:
        The PVM handles the memory allocation and garbage collection to manage the memory used by Python objects dynamically

        Ref Counting:
          Every Python object stores a reference count.
          Every push/pop/update adjusts this automatically.
        Garbage Collection:
          For cycles, Python uses a cyclic GC periodically.
        Global Interpreter Lock (GIL):
          Ensures:
            Only one thread executes Python bytecode at a time
          Effects:
            Greatly simplifies memory safety
            Limits CPU-bound multithreading
            Threading is fine for I/O-bound tasks

  2.3. Bytecode Execution Process:

    COMPLETE BYTECODE EXECUTION FLOW (Visual)

      Bytecode (.pyc)
            ↓
     Load Code Object
            ↓
   Create Execution Frame
            ↓
    ┌─────────────────────┐
    │ Bytecode Eval Loop  │
    │                     │
    │  FETCH opcode       │
    │  DECODE opcode      │
    │  EXECUTE C routine  │
    │  Update IP & Stack  │
    └─────────────────────┘
            ↓
      RETURN_VALUE
            ↓
         Output

  


  

